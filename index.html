<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mosad Hairdresser | ูููู ุงูุดูุงูุฉ</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <input type="checkbox" id="dark-mode-toggle" class="mode-checkbox">
    <div class="main-wrapper">
        
        <header>
            <nav class="navbar">
                <div class="logo">Mosad <span>Studio</span></div>
                <div class="header-actions">
                    <button class="btn-staff-trigger" onclick="openStaffApp()">๐ค ุฏุฎูู ุงูููุธููู</button>
                    
                    <label for="dark-mode-toggle" class="mode-label">
                        <span class="moon">๐</span><span class="sun">โ๏ธ</span>
                    </label>
                    <a href="#booking" class="btn-book">ุงุญุฌุฒ ูููุงูู</a>
                </div>
            </nav>
        </header>

        <section id="home" class="hero">
            <div class="hero-content">
                <span class="top-tag">ููุฑูุง ูุง ุจุฑูุณ ูู ุนุงูู ุงูุชููุฒ</span>
                 <h1>ูุด ูุฌุฑุฏ ุญูุงูุฉ..</h1>
                <p>ุฅุญูุง ุจูุฑุณู ุงูุถุญูุฉ ุนูู ูุดู ุจุงูุดูุงูุฉ ุงููู ุชุณุชุงูููุง.</p>
                <div class="hero-btns">
                    <a href="#booking" class="main-btn">ุฃูุฌุฒ ูุงุญุฌุฒ ููุนุงุฏู</a>
                    <a href="#services" class="sec-btn">ุดูู ุจูุนูู ุฅูู</a>
                </div>
            </div>
        </section>

        <section id="services">
            <h2 class="section-title">ุจูุนูู ุฅูู ุนุดุงููุ</h2>
            <div class="services-grid">
                <div class="service-box"><div class="inner"><span class="num">01</span><h3>ุญูุงูุฉ ุดุนุฑ</h3><p>ูุตุงุช ุนูู ูุถุนูุ ูุชุฏุฑูุฌ ุจุงููุณุทุฑุฉ ูุงูููู.</p></div></div>
                <div class="service-box"><div class="inner"><span class="num">02</span><h3>ุญูุงูู ุฏูู</h3><p>ุชุญุฏูุฏ ุฐูู ูุฎูู ุดููู ุจุฑูุณ.</p></div></div>
                <div class="service-box"><div class="inner"><span class="num">03</span><h3>ุชูุธูู ุงูุจุดุฑุฉ</h3><p>ุฌูุณุฉ ุชูุธูู ุนุดุงู ูุดู ูููุฑ ููุฑุฌุน ูุฑูุด.</p></div></div>
            </div>
        </section>

        <section id="barbers">
            <h2 class="section-title">ุฅูุฏููู ุชุชูู ูู ุญุฑูุฑ</h2>
            <div class="barbers-container">
                <div class="barber-card">
                    <div class="img-frame"><img src="mosad.jpg" alt="ูุณุนุฏ"></div>
                    <div class="info"><h3>ูุงุจุชู ูุณุนุฏ</h3><span>ุงููุฏูุฑ ุงูุนุงู</span></div>
                </div>
                <div class="barber-card">
                    <div class="img-frame"><img src="mohamed.jpg" alt="ูุญูุฏ"></div>
                    <div class="info"><h3>ูุญูุฏ</h3><span>ุงูููุงู </span></div>
                </div>
                <div class="barber-card">
                    <div class="img-frame"><img src="mahmoud.jpg" alt="ูุญููุฏ"></div>
                    <div class="info"><h3>ูุญููุฏ</h3><span>ูุนูู </span></div>
                </div>
            </div>
        </section>

        <section id="booking">
            <div class="booking-card">
                <div class="booking-header">
                    <h2>ุงุธุจุท ููุงุนูุฏู</h2>
                    <p>ุงุฎุชุงุฑ ุฎุฏูุชู ูุงูุญูุงู ุงููู ูุฑูุญู ูุณูุจ ุงูุจุงูู ุนูููุง.</p>
                </div>
                <form id="bookingForm">
                    <div class="form-row">
                        <input type="text" id="custName" placeholder="ุงุณูู ุฅูู ูุง ุจุฑูุณุ" required>
                        <input type="tel" id="custPhone" placeholder="ุฑูู ููุจุงููู" required>
                    </div>
                    <div class="step">
                        <label>ูุงูู ุชุนูู ุฅูู ุงูููุงุฑุฏุฉุ</label>
                        <div class="options-grid">
                            <div class="opt selected" onclick="updateOpt('pack', 'ูุต ุดุนุฑ', this)">ุดุนุฑ</div>
                            <div class="opt" onclick="updateOpt('pack', 'ุญูุงูุฉ ุฐูู', this)">ุฐูู</div>
                            <div class="opt" onclick="updateOpt('pack', 'ุจุดุฑุฉ', this)">ุจุดุฑุฉ</div>
                            <div class="opt" onclick="updateOpt('pack', 'ุจุงูู ูุงููู', this)">ุจุงูู ูุงููู</div>
                        </div>
                    </div>
                    <div class="step">
                        <label>ุนุงูุฒ ุชูุนุฏ ุชุญุช ุฅูุฏ ูููุ</label>
                        <div class="options-grid">
                            <div class="opt selected" onclick="updateOpt('barber', 'ูุณุนุฏ', this)">ูุณุนุฏ</div>
                            <div class="opt" onclick="updateOpt('barber', 'ูุญูุฏ', this)">ูุญูุฏ</div>
                            <div class="opt" onclick="updateOpt('barber', 'ูุญููุฏ', this)">ูุญููุฏ</div>
                        </div>
                    </div>
                    <div class="step">
                        <label>ุงุฎุชุงุฑ ุงูููู ูุงูุณุงุนุฉ</label>
                        <div id="daysGrid" class="options-grid scroll"></div>
                        <div id="slotsGrid" class="slots-grid"></div>
                    </div>
                    <input type="hidden" id="packVal" value="ูุต ุดุนุฑ"><input type="hidden" id="barberVal" value="ูุณุนุฏ">
                    <input type="hidden" id="dayVal"><input type="hidden" id="timeVal">
                    <button type="button" class="btn-confirm" onclick="sendBooking()">ุฃูุฏ ุงูุญุฌุฒ ูููููู ูุงุชุณุงุจ โ</button>
                </form>
            </div>
        </section>

        <div id="staff-layer" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); z-index:9999; overflow-y:auto; padding:20px; color:white; font-family:'Cairo', sans-serif;">
            <div style="max-width:400px; margin:auto; text-align:center;">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; border-bottom:1px solid #333; padding-bottom:10px;">
                    <h2 style="color:#d4af37;">ุฎุฒูุฉ ุงูุตุงููู ๐</h2>
                    <button onclick="closeStaffApp()" style="background:#ff4757; border:none; color:white; padding:5px 15px; border-radius:5px; cursor:pointer;">ุฅุบูุงู</button>
                </div>
                
                <div id="app-login">
                    <p>ุณุฌู ุฏุฎูู ูุง ุจุทู:</p>
                    <button onclick="appLogin('ูุญูุฏ')" style="width:100%; padding:15px; margin:5px 0; background:#1a1a1a; color:white; border:1px solid #333; border-radius:10px;">๐ค ูุญูุฏ</button>
                    <button onclick="appLogin('ูุญููุฏ')" style="width:100%; padding:15px; margin:5px 0; background:#1a1a1a; color:white; border:1px solid #333; border-radius:10px;">๐ค ูุญููุฏ</button>
                    <button onclick="appLogin('ูุณุนุฏ')" style="width:100%; padding:15px; margin:5px 0; background:#1a1a1a; color:#d4af37; border:1px solid #d4af37; border-radius:10px;">๐ ูุงุจุชู ูุณุนุฏ</button>
                </div>

                <div id="app-work" style="display:none;">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                        <button onclick="backToLogin()" style="background:#333; border:none; color:white; padding:5px 10px; border-radius:5px;">๐ ุฑุฌูุน</button>
                        <h3 id="welcome-msg"></h3>
                    </div>
                    <button id="admin-btn" onclick="openAdmin()" style="display:none; width:100%; padding:15px; background:none; border:2px dashed #d4af37; color:#d4af37; border-radius:10px; margin-bottom:15px;">๐ ูุดู ุญุณุงุจ ุงูุฎุฒูุฉ</button>
                    <input type="text" id="w-cust" placeholder="ุงุณู ุงูุฒุจูู" style="width:100%; padding:15px; margin:5px 0; background:#000; border:1px solid #333; border-radius:10px; color:white; text-align:center;">
                    <input type="number" id="w-amt" placeholder="ุงููุจูุบ" style="width:100%; padding:15px; margin:5px 0; background:#000; border:1px solid #333; border-radius:10px; color:white; text-align:center;">
                    <button onclick="saveMoney()" style="width:100%; padding:15px; background:linear-gradient(135deg, #d4af37 0%, #f1c40f 100%); border:none; border-radius:10px; font-weight:bold; color:black; margin-top:10px;">ุญูุธ ุงูุนูููุฉ โ</button>
                    <div style="margin-top:20px; font-size:1.2rem;">ุนููุช ูุงู ุงููุงุฑุฏูุ : <span id="u-total" style="color:#2ecc71;">0</span> ุฌ.ู</div>
                </div>

                <div id="app-admin" style="display:none;">
                    <button onclick="backToWork()" style="background:#333; border:none; color:white; padding:5px 10px; border-radius:5px; float:right;">๐ ุฑุฌูุน</button>
                    <h3 style="color:#d4af37;">ุญุณุงุจ ุงููุญู ุจุงููุงูู</h3>
                    <div style="background:linear-gradient(135deg, #d4af37 0%, #f1c40f 100%); color:black; padding:20px; border-radius:15px; margin:15px 0;">
                        <p>ุฅุฌูุงูู ุงููููุณ</p>
                        <h2 id="total-money">0</h2>
                    </div>
                    <div style="background:#111; border-radius:10px; padding:10px; max-height:250px; overflow-y:auto;">
                        <table style="width:100%; border-collapse:collapse; font-size:12px;">
                            <thead><tr><th>ุงูุญูุงู</th><th>ุงููุจูุบ</th><th>ุงูููุช</th></tr></thead>
                            <tbody id="admin-log"></tbody>
                        </table>
                    </div>
                    <button onclick="clearAllData()" style="width:100%; padding:10px; background:#444; color:white; border:none; border-radius:10px; margin-top:15px;">๐งน ุชุตููุฑ ุงูููููุฉ</button>
                </div>
            </div>
        </div>

        <a href="https://wa.me/201027842141" class="floating-wa" target="_blank">๐ฒ</a>
        <footer><p>Mosad Hairdresser Studio &copy; 2026</p></footer>
    </div>

    <script>
        // --- ุฃููุงุฏ ุงููููุน ุงูุฃุตูู (ุญูุธุงู ุนูู ุงูุญุฌุฒ ูุงูุตูุฑ) ---
        function generateDays() {
            const container = document.getElementById('daysGrid');
            if(!container) return;
            container.innerHTML = "";
            const now = new Date();
            for (let i = 0; i < 5; i++) {
                const date = new Date(now);
                date.setDate(now.getDate() + i);
                const dKey = date.toISOString().split('T')[0];
                const dName = date.toLocaleDateString('ar-EG', { weekday: 'short', day: 'numeric' });
                const div = document.createElement('div');
                div.className = 'opt day-opt';
                div.innerText = dName;
                div.onclick = () => {
                    document.querySelectorAll('.day-opt').forEach(d => d.classList.remove('selected'));
                    div.classList.add('selected');
                    document.getElementById('dayVal').value = dKey;
                    loadSlots();
                };
                container.appendChild(div);
                if(i===0) div.click();
            }
        }
        function updateOpt(type, val, el) {
            el.parentElement.querySelectorAll('.opt').forEach(o => o.classList.remove('selected'));
            el.classList.add('selected');
            document.getElementById(type + 'Val').value = val;
            if(type === 'barber') loadSlots();
        }
        function loadSlots() {
            const container = document.getElementById('slotsGrid');
            const date = document.getElementById('dayVal').value;
            const barber = document.getElementById('barberVal').value;
            if(!container) return;
            container.innerHTML = "";
            let storageKey = `res_${date}_${barber}`;
            let booked = JSON.parse(localStorage.getItem(storageKey) || "[]");
            for (let h = 10; h < 23; h++) {
                let timeStr = `${h > 12 ? h-12 : h}${h >= 12 ? 'ู':'ุต'}`;
                const isBooked = booked.includes(timeStr);
                const slot = document.createElement('div');
                slot.className = `slot ${isBooked ? 'booked' : ''}`;
                slot.innerText = isBooked ? "ูุญุฌูุฒ" : timeStr;
                if(!isBooked) slot.onclick = () => {
                    document.querySelectorAll('.slot').forEach(s => s.classList.remove('active'));
                    slot.classList.add('active');
                    document.getElementById('timeVal').value = timeStr;
                };
                container.appendChild(slot);
            }
        }
        function sendBooking() {
            const name = document.getElementById('custName').value;
            const day = document.getElementById('dayVal').value;
            const time = document.getElementById('timeVal').value;
            const barber = document.getElementById('barberVal').value;
            if(!name || !time) return alert("ุฃููู ุงูุจูุงูุงุช ูุง ููุงู!");
            let storageKey = `res_${day}_${barber}`;
            let booked = JSON.parse(localStorage.getItem(storageKey) || "[]");
            if (!booked.includes(time)) {
                booked.push(time);
                localStorage.setItem(storageKey, JSON.stringify(booked));
            }
            loadSlots();
            const msg = `ุญุฌุฒ ุฌุฏูุฏ:%0Aุงูุงุณู: ${name}%0Aุงูุญูุงู: ${barber}%0Aุงูููุนุฏ: ${day} ุงูุณุงุนุฉ ${time}`;
            window.open(`https://wa.me/201027842141?text=${msg}`);
        }

        // --- ุฃููุงุฏ ุฃุจูููุดู ุงูุญุณุงุจุงุช ---
        let accountsDB = JSON.parse(localStorage.getItem('mosaad_acc')) || [];
        let currentBarber = "";
        function openStaffApp() { document.getElementById('staff-layer').style.display='block'; }
        function closeStaffApp() { document.getElementById('staff-layer').style.display='none'; }
        function backToLogin() { document.getElementById('app-work').style.display='none'; document.getElementById('app-login').style.display='block'; }
        function backToWork() { document.getElementById('app-admin').style.display='none'; document.getElementById('app-work').style.display='block'; }
        
        function appLogin(name) {
            let p = prompt(`ูููุฉ ุงูุณุฑ ูู ${name}:`);
            if(p === (name==='ูุญูุฏ'?'1397':name==='ูุญููุฏ'?'1593':'5050')) {
                currentBarber = name;
                document.getElementById('app-login').style.display='none';
                document.getElementById('app-work').style.display='block';
                document.getElementById('welcome-msg').innerText = "ูุง ูุฑุงุญุจ ูุง " + name;
                document.getElementById('admin-btn').style.display = (name==='ูุณุนุฏ') ? 'block' : 'none';
                refreshUserTotal();
            } else { alert("ุบูุท ูุง ุจุฑูุณ!"); }
        }

        function saveMoney() {
            let c = document.getElementById('w-cust'), a = document.getElementById('w-amt');
            if(!c.value || !a.value) return;
            accountsDB.push({b:currentBarber, c:c.value, a:parseFloat(a.value), t:new Date().toLocaleTimeString('ar-EG'), d:new Date().toDateString()});
            localStorage.setItem('mosaad_acc', JSON.stringify(accountsDB));
            c.value=""; a.value=""; refreshUserTotal(); alert("ุชู ุงูุญูุธ โ");
        }

        function refreshUserTotal() {
            let sum = accountsDB.filter(r => r.b === currentBarber && r.d === new Date().toDateString()).reduce((s,r)=>s+r.a,0);
            document.getElementById('u-total').innerText = sum;
        }

        function openAdmin() {
            let p = prompt("ุจุงุณูุฑุฏ ุงูุฎุฒูุฉ:");
            if(p === '7007') {
                document.getElementById('app-work').style.display='none';
                document.getElementById('app-admin').style.display='block';
                let sum = accountsDB.reduce((s,r)=>s+r.a,0);
                document.getElementById('total-money').innerText = sum + " ุฌ.ู";
                let html = "";
                accountsDB.slice().reverse().forEach(r => { html += `<tr><td>${r.b}</td><td>${r.a}</td><td>${r.t}</td></tr>`; });
                document.getElementById('admin-log').innerHTML = html;
            }
        }

        function clearAllData() { if(confirm("ูุชุตูุฑ ุงูุฎุฒูุฉุ")) { localStorage.clear(); location.reload(); } }

        window.onload = generateDays;
    </script>

</body>
</html>